<!-- image-preview-table.component.html -->
@if (dataSource.data.length > 0) {
  <div class="preview-container mat-elevation-z4">
    <h2 class="title">Resultados de exámenes radiograficos</h2>
    <!-- Tabla de imágenes -->
    <div class="table-wrapper">
      <table mat-table [dataSource]="dataSource" matSort class="mat-table">
        <!-- Imagen -->
        <ng-container matColumnDef="imagen">
          <th mat-header-cell *matHeaderCellDef>Vista previa</th>
          <td mat-cell *matCellDef="let imagen">
            <img [src]="imagen.url"
              class="img-preview"
              alt="preview"
              (click)="abrirImagen(imagen.url)" />
            </td>
          </ng-container>
          <ng-container matColumnDef="nombre">
            <th mat-header-cell *matHeaderCellDef>Nombre</th>
            <td mat-cell *matCellDef="let imagen"> {{ imagen.nombre }} </td>
          </ng-container>
          <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef>Descargar</th>
            <td mat-cell *matCellDef="let imagen">
              <a [href]="imagen.url" [download]="getNombreArchivo(imagen.url)">
                <button mat-icon-button color="primary" aria-label="Descargar imagen">
                  <mat-icon>download</mat-icon>
                </button>
              </a>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
      <!-- Botones de acción -->
    </div>
  }
  @if (dataSource.data.length === 0) {
    <mat-card class="tabla-card">
      <mat-card-title>Aún no existen resultados disponibles</mat-card-title>
    </mat-card>
  }
  <div class="actions-bottom">
    <button  mat-button type="button" (click)="volverMenu()">
      <mat-icon>arrow_back</mat-icon>
      Volver
    </button>
  </div>